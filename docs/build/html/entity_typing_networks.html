<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Entity Typing Networks &mdash; entity_typing_framework 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dataset Readers" href="dataset_readers.html" />
    <link rel="prev" title="Dataset Managers" href="dataset_managers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> entity_typing_framework
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_file.html">Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="package_structure.html">Package Structure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules_submodules.html">Modules and submodules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="modules_submodules.html#datasetmanager">DatasetManager</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules_submodules.html#entity-typing-network">Entity Typing Network</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="modules_submodules.html#implemented-modules">Implemented Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dataset_managers.html">Dataset Managers</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Entity Typing Networks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules_submodules.html#implemented-submodules">Implemented Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module_dictionary.html">Module Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">entity_typing_framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules_submodules.html">Modules and submodules</a> &raquo;</li>
      <li>Entity Typing Networks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/entity_typing_networks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="entity-typing-networks">
<h1>Entity Typing Networks<a class="headerlink" href="#entity-typing-networks" title="Permalink to this headline"></a></h1>
<p>List of implemented <a class="reference internal" href="modules_submodules.html#entitytypingnetwork"><span class="std std-ref">EntityTypingNetwork</span></a></p>
<dl class="py class">
<dt class="sig sig-object py" id="entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">entity_typing_framework.EntityTypingNetwork_classes.base_network.</span></span><span class="sig-name descname"><span class="pre">BaseEntityTypingNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network_params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_number</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork" title="Permalink to this definition"></a></dt>
<dd><p>Basic <a class="reference internal" href="modules_submodules.html#entitytypingnetwork"><span class="std std-ref">EntityTypingNetwork</span></a>. This module is able to use the following submodules:</p>
<dl>
<dt><a class="reference internal" href="modules_submodules.html#encoder"><span class="std std-ref">encoder</span></a>:</dt><dd><p><a class="reference internal" href="encoders.html#distilbertencoder"><span class="std std-ref">entity_typing_framework.EntityTypingNetwork_classes.input_encoders.DistilBERTEncoder</span></a></p>
<p><a class="reference internal" href="encoders.html#adapterdistilbertencoder"><span class="std std-ref">entity_typing_framework.EntityTypingNetwork_classes.input_encoders.AdapterDistilBERTEncoder</span></a></p>
</dd>
<dt><a class="reference internal" href="modules_submodules.html#type-encoder"><span class="std std-ref">type_encoder</span></a>:</dt><dd><p><a class="reference internal" href="type_encoders.html#onehottypeencoder"><span class="std std-ref">entity_typing_framework.EntityTypingNetwork_classes.type_encoders.OneHotTypeEncoder</span></a></p>
</dd>
<dt><a class="reference internal" href="modules_submodules.html#input-projector"><span class="std std-ref">input_projector</span></a>:</dt><dd><p><a class="reference internal" href="input_projectors.html#classifier"><span class="std std-ref">entity_typing_framework.EntityTypingNetwork_classes.type_encoders.Classifier</span></a></p>
</dd>
<dt>Parameters:</dt><dd><dl>
<dt>name:</dt><dd><p>the name of the module, specified in the <code class="code docutils literal notranslate"><span class="pre">yaml</span></code> configuration file under the key <code class="code docutils literal notranslate"><span class="pre">model.ET_Network_params.name</span></code>. Has to be declared in the <a class="reference internal" href="module_dictionary.html"><span class="doc">Module Dictionary</span></a></p>
</dd>
<dt>network_params:</dt><dd><p>parameters for the module and for the submodules, specified in the <code class="code docutils literal notranslate"><span class="pre">yaml</span></code> configuration file under the key <code class="code docutils literal notranslate"><span class="pre">model.ET_Network_params.network_params</span></code></p>
<p>expected keys in network_params are: <code class="code docutils literal notranslate"><span class="pre">model.ET_Network_params.network_params.encoder_params</span></code>, <code class="code docutils literal notranslate"><span class="pre">model.ET_Network_params.network_params.type_encoder_params</span></code>, and <code class="code docutils literal notranslate"><span class="pre">model.ET_Network_params.network_params.input_projector_params</span></code></p>
</dd>
<dt>type_number:</dt><dd><p>number of types for this run. Automatic managed through <a class="reference internal" href="modules_submodules.html#datasetmanager"><span class="std std-ref">DatasetManager</span></a></p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork.forward" title="Permalink to this definition"></a></dt>
<dd><p>override of :code:pytorch_lightning.LightningModule.forward (<a class="reference external" href="https://pytorch-lightning.readthedocs.io/en/stable/extensions/datamodules.html">ref</a>)</p>
<dl class="simple">
<dt>parameters:</dt><dd><dl class="simple">
<dt>batch:</dt><dd><p>the batch returned by the <a class="reference internal" href="modules_submodules.html#dataset"><span class="std std-ref">Dataset</span></a></p>
</dd>
</dl>
</dd>
<dt>return:</dt><dd><dl class="simple">
<dt>projected_input:</dt><dd><p>output of the <a class="reference internal" href="modules_submodules.html#input-projector"><span class="std std-ref">input_projector</span></a>. Commonly the <a class="reference internal" href="modules_submodules.html#input-projector"><span class="std std-ref">input_projector</span></a> takes in input the output of the <a class="reference internal" href="modules_submodules.html#encoder"><span class="std std-ref">encoder</span></a></p>
</dd>
<dt>encoded_types:</dt><dd><p>output of the <a class="reference internal" href="modules_submodules.html#type-encoder"><span class="std std-ref">type_encoder</span></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork.load_from_checkpoint">
<span class="sig-name descname"><span class="pre">load_from_checkpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_to_load</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#entity_typing_framework.EntityTypingNetwork_classes.base_network.BaseEntityTypingNetwork.load_from_checkpoint" title="Permalink to this definition"></a></dt>
<dd><p>Primary way of loading a model from a checkpoint. When Lightning saves a checkpoint
it stores the arguments passed to <cite>__init__</cite>  in the checkpoint under <cite>hyper_parameters</cite></p>
<p>Any arguments specified through *args and **kwargs will override args stored in <cite>hyper_parameters</cite>.</p>
<dl>
<dt>Args:</dt><dd><p>checkpoint_path: Path to checkpoint. This can also be a URL, or file-like object
map_location:</p>
<blockquote>
<div><p>If your checkpoint saved a GPU model and you now load on CPUs
or a different number of GPUs, use this to map to the new setup.
The behaviour is the same as in <code class="xref py py-func docutils literal notranslate"><span class="pre">torch.load()</span></code>.</p>
</div></blockquote>
<dl>
<dt>hparams_file: Optional path to a .yaml file with hierarchical structure</dt><dd><p>as in this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">drop_prob</span><span class="p">:</span> <span class="mf">0.2</span>
<span class="n">dataloader</span><span class="p">:</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="mi">32</span>
</pre></div>
</div>
<p>You most likely won’t need this since Lightning will always save the hyperparameters
to the checkpoint.
However, if your checkpoint weights don’t have the hyperparameters saved,
use this method to pass in a .yaml file with the hparams you’d like to use.
These will be converted into a <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code> and passed into your
<code class="xref py py-class docutils literal notranslate"><span class="pre">LightningModule</span></code> for use.</p>
<p>If your model’s <cite>hparams</cite> argument is <code class="xref py py-class docutils literal notranslate"><span class="pre">Namespace</span></code>
and .yaml file has hierarchical structure, you need to refactor your model to treat
<cite>hparams</cite> as <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>.</p>
</dd>
<dt>strict: Whether to strictly enforce that the keys in <code class="xref py py-attr docutils literal notranslate"><span class="pre">checkpoint_path</span></code> match the keys</dt><dd><p>returned by this module’s state dict. Default: <cite>True</cite>.</p>
</dd>
<dt>kwargs: Any extra keyword args needed to init the model. Can also be used to override saved</dt><dd><p>hyperparameter values.</p>
</dd>
</dl>
</dd>
<dt>Return:</dt><dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">LightningModule</span></code> with loaded weights and hyperparameters (if available).</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># load weights without mapping ...</span>
<span class="n">MyLightningModule</span><span class="o">.</span><span class="n">load_from_checkpoint</span><span class="p">(</span><span class="s1">&#39;path/to/checkpoint.ckpt&#39;</span><span class="p">)</span>

<span class="c1"># or load weights mapping all weights from GPU 1 to GPU 0 ...</span>
<span class="n">map_location</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cuda:1&#39;</span><span class="p">:</span><span class="s1">&#39;cuda:0&#39;</span><span class="p">}</span>
<span class="n">MyLightningModule</span><span class="o">.</span><span class="n">load_from_checkpoint</span><span class="p">(</span>
    <span class="s1">&#39;path/to/checkpoint.ckpt&#39;</span><span class="p">,</span>
    <span class="n">map_location</span><span class="o">=</span><span class="n">map_location</span>
<span class="p">)</span>

<span class="c1"># or load weights and hyperparameters from separate files.</span>
<span class="n">MyLightningModule</span><span class="o">.</span><span class="n">load_from_checkpoint</span><span class="p">(</span>
    <span class="s1">&#39;path/to/checkpoint.ckpt&#39;</span><span class="p">,</span>
    <span class="n">hparams_file</span><span class="o">=</span><span class="s1">&#39;/path/to/hparams_file.yaml&#39;</span>
<span class="p">)</span>

<span class="c1"># override some of the params with new values</span>
<span class="n">MyLightningModule</span><span class="o">.</span><span class="n">load_from_checkpoint</span><span class="p">(</span>
    <span class="n">PATH</span><span class="p">,</span>
    <span class="n">num_layers</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span>
    <span class="n">pretrained_ckpt_path</span><span class="o">=</span><span class="n">NEW_PATH</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># predict</span>
<span class="n">pretrained_model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="n">pretrained_model</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
<span class="n">y_hat</span> <span class="o">=</span> <span class="n">pretrained_model</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dataset_managers.html" class="btn btn-neutral float-left" title="Dataset Managers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dataset_readers.html" class="btn btn-neutral float-right" title="Dataset Readers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Manuel Vimercati.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>